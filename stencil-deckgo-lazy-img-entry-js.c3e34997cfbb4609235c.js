(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{265:function(t,e,r){"use strict";r.r(e),r.d(e,"deckgo_lazy_img",(function(){return d}));var i=r(24),n=function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))},o=function(t,e){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=a.trys,(n=n.length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=function(t){if(1===t.nodeType){if("script"===t.nodeName.toLowerCase())return!1;for(var e=0;e<t.attributes.length;e++){var r=t.attributes[e].value;if(s(r)&&0===r.toLowerCase().indexOf("on"))return!1}for(e=0;e<t.childNodes.length;e++)if(!a(t.childNodes[e]))return!1}return!0},s=function(t){return"string"==typeof t},c=new Map,u=function(t){var e=c.get(t);return e||(e=fetch(t).then((function(t){return t.status<=299?t.text():Promise.resolve(null)})).then((function(t){return function(t){if(t){var e=document.createElement("div");e.innerHTML=t;for(var r=e.childNodes.length-1;r>=0;r--)"svg"!==e.childNodes[r].nodeName.toLowerCase()&&e.removeChild(e.childNodes[r]);var i=e.firstElementChild;if(i&&"svg"===i.nodeName.toLowerCase()&&(i.setAttribute("class","s-ion-icon"),a(i)))return e.innerHTML}return""}(t)})),c.set(t,e)),e},d=function(){function t(t){var e=this;Object(i.g)(this,t),this.observerRootMargin="100px 0px",this.customLoader=!1,this.imgLoaded=!1,this.onIntersection=function(t){return n(e,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return!t||t.length<=0?[2]:[4,this.handleIntersection(t[0])];case 1:return e.sent(),[2]}}))}))},this.lazyImgDidLoad=Object(i.d)(this,"lazyImgDidLoad",7),this.customLoad=Object(i.d)(this,"customLoad",7)}return t.prototype.componentDidLoad=function(){return n(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.init()];case 1:return t.sent(),this.lazyImgDidLoad.emit(),[2]}}))}))},t.prototype.handleAttrImgSrc=function(){return n(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.init()];case 1:return t.sent(),[2]}}))}))},t.prototype.init=function(){return n(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return!("loading"in HTMLImageElement.prototype)||this.svgSrc?[3,2]:[4,this.loadImmediately()];case 1:return t.sent(),[3,6];case 2:return window&&"IntersectionObserver"in window?[4,this.deferIntersectionObserverLoad()]:[3,4];case 3:return t.sent(),[3,6];case 4:return[4,this.loadImmediately()];case 5:t.sent(),t.label=6;case 6:return[2]}}))}))},t.prototype.loadImmediately=function(){return this.load()},t.prototype.deferIntersectionObserverLoad=function(){var t=this;return new Promise((function(e){t.observer=new IntersectionObserver(t.onIntersection,{rootMargin:t.observerRootMargin,threshold:t.observerThreshold}),t.observer.observe(t.el.shadowRoot.host),e()}))},t.prototype.lazyLoad=function(){var t=this;return new Promise((function(e){return n(t,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.load()];case 1:return t.sent(),e(),[2]}}))}))}))},t.prototype.handleIntersection=function(t){var e=this;return new Promise((function(r){return n(e,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return t.isIntersecting?(this.observer&&this.observer.disconnect(),[4,this.load()]):[3,2];case 1:e.sent(),e.label=2;case 2:return r(),[2]}}))}))}))},t.prototype.load=function(){var t=this;return new Promise((function(e){return n(t,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return this.svgSrc?[4,this.loadSvg()]:[3,2];case 1:return t.sent(),[3,4];case 2:return[4,this.loadImg()];case 3:t.sent(),t.label=4;case 4:return e(),[2]}}))}))}))},t.prototype.loadImg=function(){var t=this;return new Promise((function(e){var r=t.el.shadowRoot.querySelector("img");if(r){if(t.customLoader)return t.customLoad.emit({imgElement:r,imgSrc:t.imgSrc,imgSrcSet:t.imgSrcSet}),void e();t.imgSrc&&r.setAttribute("src",t.imgSrc),t.imgSrcSet&&r.setAttribute("srcset",t.imgSrcSet),e()}else e()}))},t.prototype.loadSvg=function(){var t=this;return new Promise((function(e){return n(t,void 0,void 0,(function(){var t,r;return o(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),t=this,[4,u(this.svgSrc)];case 1:return t.svgContent=i.sent(),[3,3];case 2:return r=i.sent(),console.error(r),[3,3];case 3:return e(),[2]}}))}))}))},t.prototype.loadError=function(){var t=this;return new Promise((function(e){var r=t.el.shadowRoot.querySelector("img");r&&t.imgErrorSrc&&r.src!==t.imgErrorSrc?(r.src!==t.imgSrc&&r.srcset!==t.imgSrcSet||(r.src=t.imgErrorSrc),e()):e()}))},t.prototype.render=function(){var t=this.imgLoaded||this.svgContent?"loaded":"";return this.svgContent?Object(i.f)(i.a,{class:t},Object(i.f)("div",{innerHTML:this.svgContent,class:"svg-container"})):Object(i.f)(i.a,{class:t},this.renderImage())},t.prototype.renderImage=function(){var t=this;return Object(i.f)("img",{alt:this.imgLoaded?this.imgAlt?this.imgAlt:this.imgSrc:"",loading:"lazy",sizes:this.imgSizes?this.imgSizes:void 0,intrinsicsize:this.intrinsicsize,width:this.imgWidth,height:this.imgHeight,onLoad:function(){return t.imgLoaded=!0},onError:function(){return t.loadError()}})},Object.defineProperty(t.prototype,"el",{get:function(){return Object(i.e)(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"watchers",{get:function(){return{imgSrc:["handleAttrImgSrc"]}},enumerable:!0,configurable:!0}),t}();d.style=":host{fill:currentColor}:host(.loaded) img,:host(.loaded) svg{opacity:var(--deckgo-lazy-img-opacity-loaded, 1)}div.svg-container{height:var(--deckgo-lazy-img-height);width:var(--deckgo-lazy-img-width)}img,svg{pointer-events:var(--deckgo-lazy-img-pointer-events, none);height:var(--deckgo-lazy-img-height);width:var(--deckgo-lazy-img-width);max-height:var(--deckgo-lazy-img-max-height);max-width:var(--deckgo-lazy-img-max-width, 100%);min-height:var(--deckgo-lazy-img-min-height);min-width:var(--deckgo-lazy-img-min-width);float:var(--deckgo-lazy-img-float);padding:var(--deckgo-lazy-img-padding);vertical-align:var(--deckgo-lazy-img-vertical-align);display:var(--deckgo-lazy-img-display);border-radius:var(--deckgo-lazy-img-border-radius);-o-object-fit:var(--deckgo-lazy-img-object-fit);object-fit:var(--deckgo-lazy-img-object-fit);opacity:var(--deckgo-lazy-img-opacity-not-loaded, 0);-webkit-transition:var(--deckgo-lazy-img-transition, opacity 0.15s linear);transition:var(--deckgo-lazy-img-transition, opacity 0.15s linear);-webkit-box-shadow:var(--deckgo-lazy-img-box-shadow);box-shadow:var(--deckgo-lazy-img-box-shadow)}"}}]);