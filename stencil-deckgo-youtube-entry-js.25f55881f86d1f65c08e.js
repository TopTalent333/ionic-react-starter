(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{273:function(e,t,n){"use strict";n.r(t),n.d(t,"deckgo_youtube",(function(){return a}));var r=n(26),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},i=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},a=function(){function e(e){Object(r.f)(this,e),this.allowFullscreen=!0,this.instant=!1,this.loading=!1,this.loaded=!1}return e.prototype.componentWillLoad=function(){return o(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.addPreconnectLink()];case 1:return e.sent(),[2]}}))}))},e.prototype.componentDidLoad=function(){return o(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return this.instant?[4,this.lazyLoadContent()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.updateIFrame=function(e,t){return o(this,void 0,void 0,(function(){var n;return i(this,(function(r){return(n=this.el.shadowRoot.querySelector("iframe"))&&(n.width=""+e,n.height=""+t),[2]}))}))},e.prototype.lazyLoadContent=function(){return this.createIFrame()},e.prototype.onSrcUpdate=function(){return o(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.createIFrame()];case 1:return e.sent(),[2]}}))}))},e.prototype.play=function(){return this.playPauseVideo(!0)},e.prototype.pause=function(){return this.playPauseVideo(!1)},e.prototype.addPreconnectLink=function(){var e=this;return new Promise((function(t){if(e.src&&document){var n=document.head.querySelectorAll("link[rel='preconnect'][youtube]");if(n&&n.length>0)t();else{var r=document.createElement("link");r.rel="preconnect",r.href="https://www.youtube.com",r.setAttribute("youtube",""),document.head.appendChild(r),t()}}else t()}))},e.prototype.createIFrame=function(){var e=this;return new Promise((function(t){return o(e,void 0,void 0,(function(){var e,n,r,o,a,u,c,s;return i(this,(function(i){switch(i.label){case 0:return this.src?this.loading||(e=this.el.shadowRoot.querySelector("iframe"))&&!e.parentElement?(t(),[2]):(this.loading=!0,this.loaded=!1,e&&e.parentElement.removeChild(e),n=document.createElement("iframe"),(r=document.createAttribute("allow")).value="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",n.setAttributeNode(r),this.allowFullscreen&&((o=document.createAttribute("allowfullscreen")).value="",n.setAttributeNode(o)),[4,this.formatSrc()]):(t(),[2]);case 1:return a=i.sent(),this.allowFullscreen||((u=document.createAttribute("playsinline")).value="1",n.setAttributeNode(u),c=a.split("?"),a+=(c&&c.length>0?"&":"?")+"playsinline=1"),n.src=a,n.width=""+this.width,n.height=""+this.height,n.frameBorder="0",n.title=this.frameTitle,(s=this.el.shadowRoot.querySelector("div"))?(s.appendChild(n),this.loading=!1,this.loaded=!0,t(),[2]):(t(),[2])}}))}))}))},e.prototype.formatSrc=function(){var e=this;return new Promise((function(t){return o(e,void 0,void 0,(function(){var e,n;return i(this,(function(r){switch(r.label){case 0:return[4,this.findVideoId()];case 1:if(e=r.sent())t("https://www.youtube.com/embed/"+e+"?enablejsapi=1");else{if(!this.src)return t(this.src),[2];(n=new URL(this.src)).searchParams.get("enablejsapi")||n.searchParams.append("enablejsapi","1"),t(n.href)}return[2]}}))}))}))},e.prototype.findVideoId=function(){var e=this;return new Promise((function(t){var n=new URL(e.src),r=n.searchParams.get("v");if(!r&&("youtu.be"===n.host&&n.pathname)){var o=n.pathname.split("/");o&&o.length>=2&&(r=n.pathname.split("/")[1])}t(r)}))},e.prototype.playPauseVideo=function(e){var t=this;return new Promise((function(n){return o(t,void 0,void 0,(function(){var t;return i(this,(function(r){return(t=this.el.shadowRoot.querySelector("iframe"))?(t.contentWindow.postMessage(JSON.stringify({event:"command",func:e?"playVideo":"pauseVideo",args:""}),"*"),n(),[2]):(n(),[2])}))}))}))},e.prototype.render=function(){var e=this.loaded?"loaded":"";return Object(r.e)(r.a,{class:e},Object(r.e)("div",{class:"youtube-container"}))},Object.defineProperty(e.prototype,"el",{get:function(){return Object(r.d)(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"watchers",{get:function(){return{src:["onSrcUpdate"]}},enumerable:!0,configurable:!0}),e}();a.style=":host(.loaded) div.youtube-container{opacity:var(--deckgo-youtube-opacity-loaded, 1)}div.youtube-container{opacity:var(--deckgo-youtube-opacity-not-loaded, 0);-webkit-transition:var(--deckgo-youtube-transition, opacity 0.15s linear);transition:var(--deckgo-youtube-transition, opacity 0.15s linear)}"}}]);